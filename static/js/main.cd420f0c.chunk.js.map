{"version":3,"sources":["components/Login/Login.module.css","components/Profile/ProfileStatus/ProfileStatus.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Commons/FormsControl/FormsControl.module.css","components/Sidebar/Sidebar.module.css","components/Sidebar/Sidebar.jsx","hoc/ithAauthRedirect.js","redux/dialogs-reducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Commons/FormsControl/FormsControl.jsx","utils/Validators.js","components/Dialogs/AddMessageFormRedux.jsx","components/Dialogs/DialogsContainer.jsx","components/Dialogs/Dialogs.jsx","api/api.js","utils/objects-helpers.js","redux/users-reduser.js","redux/users-selectors.js","components/Commons/Paginator/Paginator.jsx","image/photoUser.png","components/Users/User.jsx","components/Users/Users.jsx","image/loading.gif","components/Commons/Preloader.jsx","components/Users/UsersContainer.jsx","components/Profile/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","redux/profile-reducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Clock/clock.jsx","components/Header/Header.jsx","redux/auth-reduser.js","components/Header/HeaderContainer.jsx","components/Login/Login-form/LoginForm.jsx","components/Login/Login.jsx","redux/app-reduser.js","components/App/App.js","redux/redux-store.js","index.js","components/Dialogs/Dialogs.module.css","components/Header/Header.module.css","components/Users/Users.module.css","components/Commons/Paginator/Paginator.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css"],"names":["module","exports","Sidebar","className","style","nav","item","to","activeClassName","activeLink","mapStateToPropsForRedirect","state","isAuth","auth","withAutRedirect","Component","RedirectComponent","this","props","React","connect","SEND_MESAGE","initialState","dialogsData","id","name","avatar","messages","message","DialogItem","path","dialog","dialogName","src","alt","Message","FormControl","input","meta","hasError","touched","error","formControl","children","TextArea","restProps","Input","createField","placeholder","component","validators","text","formElement","Field","validate","required","value","maxLengthCreator","maxLengt","length","maxLength100","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","buttonSubmit","compose","dialogsPage","dispatch","sendMessage","newMessageBody","type","sendMessageCreator","dialogsElement","map","messageElement","mes","dialogs","dialogsItem","addMessage","values","instance","axios","create","withCredentials","baseURL","headers","UsersAPI","getUsers","currentPage","pageSize","get","then","response","data","setFollow","userId","post","setUnfollow","delete","AuthAPI","email","password","rememberMe","ProfileAPI","status","put","photoFile","formData","FormData","append","profile","SecurityAPI","updateObjectInArray","items","itemId","objPropName","newObjProps","us","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","folowingInProgress","followSucces","unfollowSucces","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","a","resultCode","getAllUsers","createSelector","usersPage","filter","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFolowingInProgress","Paginator","totalItemCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","useState","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","paginator","buttonPaginator","onClick","page","cn","pageNumber","selectedPage","e","User","user","followingInProgress","unfollow","follow","photos","small","userPhoto","img","followed","disabled","some","userName","Users","Preloader","preloader","UsersContainer","bind","totalCount","ProfileStatus","editMode","setEditMode","setStatus","useEffect","onChange","currentTarget","onBlur","updateStatus","autoFocus","ProfileDataFormReduxForm","formSummaryError","Object","keys","contacts","key","ProfileInfo","isOwner","savePhoto","saveProfile","inform","infoPhoto","large","target","files","initialValues","activateEditMode","ProfileData","infoText","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likeCount","getUserProfile","Post","maxLength10","AddPostFormRedux","MyPostsContainer","profilePage","newPostText","addPost","addPostActionCreator","postElement","p","Profile","content","ProfileContainer","refreshProfile","prevProps","match","params","userId1","autorizedUserId","history","getStatus","isAust","file","getState","stopSubmit","_error","Promise","reject","withRouter","Clock","date","Date","setState","idTimer","setInterval","updateTime","clearInterval","toLocaleTimeString","Header","header","titleBlock","title","loginBlock","loginBlockAuth","login","logout","button","SET_USER_DATA","SET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","setCaptchaUrlSuccess","getAuthUserData","getCaptchaUrl","url","HeaderConteiner","LoginReduxForm","captcha","lenght","loginTitle","INITIALISED_SUCCESS","initialised","App","initialisedApp","exact","render","DialogsContainer","app","redusers","combineReducers","action","newPost","postId","body","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cd420f0c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__2ifWp\",\"loginTitle\":\"Login_loginTitle__c3_Q3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__1bve1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__vW-kt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__u5CI4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formElement\":\"FormsControl_formElement__mD0CE\",\"buttonSubmit\":\"FormsControl_buttonSubmit__3dl_M\",\"formControl\":\"FormsControl_formControl__1tz4B\",\"error\":\"FormsControl_error__okM4b\",\"formSummaryError\":\"FormsControl_formSummaryError__2AC8r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2CZlU\",\"nav\":\"Sidebar_nav__118dd\",\"item\":\"Sidebar_item__DZuI1\",\"activeLink\":\"Sidebar_activeLink__3AOy7\"};","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport style from \"./Sidebar.module.css\";\n\nexport const Sidebar = () => {\n  return (\n    <nav className={style.nav}>\n      <div className={style.item}>\n        <NavLink to=\"/profile\" activeClassName={style.activeLink}>\n          Profile\n        </NavLink>\n      </div>\n      <div className={style.item}>\n        <NavLink to=\"/dialogs\" activeClassName={style.activeLink}>\n          Messages\n        </NavLink>\n      </div>\n      <div className={style.item}>\n        <NavLink to=\"/news\">News</NavLink>\n      </div>\n      <div className={style.item}>\n        <NavLink to=\"/music\">Music</NavLink>\n      </div>\n      <div className={style.item}>\n        <NavLink to=\"/settings\">Settings</NavLink>\n      </div>\n      <div className={style.item}>\n        <NavLink to=\"/users\" activeClassName={style.activeLink}>\n          Users\n        </NavLink>\n      </div>\n    </nav>\n  );\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nconst mapStateToPropsForRedirect = (state) => {\n  return {\n    isAuth: state.auth.isAuth,\n  };\n};\n\nexport const withAutRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\n      return <Component {...this.props} />;\n    }\n  }\n  const ConnectAuthRedirectComponeny = connect(mapStateToPropsForRedirect)(\n    RedirectComponent\n  );\n  return ConnectAuthRedirectComponeny;\n};\n","const SEND_MESAGE = \"SEND-MESAGE\";\n\nconst initialState = {\n  dialogsData: [\n    {\n      id: \"1\",\n      name: \"Aleksey\",\n      avatar:\n        \"https://pm1.narvii.com/6812/898e9a78440c858bbc48429775f70d48a85a2e71v2_hq.jpg\",\n    },\n    {\n      id: \"2\",\n      name: \"Ivan\",\n      avatar:\n        \"https://i.pinimg.com/originals/6e/20/f8/6e20f8caddd62ec456990cbbec2817b7.jpg\",\n    },\n    {\n      id: \"3\",\n      name: \"Elisey\",\n      avatar:\n        \"https://tipik.ru/wp-content/uploads/2019/08/%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B8-%D0%B0%D0%BD%D0%B8%D0%BC%D0%B5-%D0%BF%D0%B0%D1%86%D0%B0%D0%BD%D0%BE%D0%B2-010.jpg\",\n    },\n  ],\n\n  messages: [\n    {\n      id: \"1\",\n      message:\n        \"The establishment of clear lines of communication makes it easier to keep the different actors fully informed of the process.\",\n    },\n    {\n      id: \"2\",\n      message:\n        \"The binary encoder session is not valid. There was an error decoding a previous message.\",\n    },\n    {\n      id: \"3\",\n      message:\n        \"The binary encoder session is not valid. There was an error decoding a previous message.\",\n    },\n  ],\n};\n\nexport const dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESAGE:\n      let body = action.newMessageBody;\n      return {\n        ...state,\n        messages: [...state.messages, { id: \"4\", message: body }],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const sendMessageCreator = (newMessageBody) => ({\n  type: SEND_MESAGE,\n  newMessageBody,\n});\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport style from \"./../Dialogs.module.css\";\n\nexport const DialogItem = (props) => {\n  let path = `/dialogs/${props.id}`;\n  return (\n    <div className={style.dialog}>\n      <NavLink to={path}>\n        <span className={style.dialogName}>{props.name}</span>\n        <img src={props.avatar} alt=\"photo\" />\n      </NavLink>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport style from \"./../Dialogs.module.css\";\n\nexport const Message = (props) => {\n  return <div className={style.message}>{props.message}</div>;\n};\n","import React from \"react\";\nimport { Field } from \"redux-form\";\n\nimport style from \"./FormsControl.module.css\";\n\nconst FormControl = ({ input, meta, ...props }) => {\n  const hasError = meta.touched && meta.error;\n  return (\n    <div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\n      <div>{props.children}</div>\n      {hasError && <span>{meta.error}</span>}\n    </div>\n  );\n};\n\nexport const TextArea = (props) => {\n  const { input, meta, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <textarea {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const Input = (props) => {\n  const { input, meta, ...restProps } = props;\n  return (\n    <FormControl {...props}>\n      <input {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const createField = (\n  placeholder,\n  name,\n  component,\n  validators,\n  props = {},\n  text = \"\"\n) => {\n  return (\n    <div className={style.formElement}>\n      <Field\n        placeholder={placeholder}\n        name={name}\n        component={component}\n        validate={validators}\n        {...props}\n      />\n      {text}\n    </div>\n  );\n};\n","export const required = (value) => {\n  if (value) return undefined;\n  return \"Fild is required \";\n};\n\nexport const maxLengthCreator = (maxLengt) => (value) => {\n  if (value && value.length > maxLengt) return \"max length is 30 symbols\";\n  return undefined;\n};\n","import React from \"react\";\n\nimport { Field, reduxForm } from \"redux-form\";\nimport { TextArea } from \"../Commons/FormsControl/FormsControl\";\nimport { maxLengthCreator, required } from \"../../utils/Validators\";\n\nimport style from \"../Commons/FormsControl/FormsControl.module.css\";\n\nconst maxLength100 = maxLengthCreator(100);\n\nconst AddMessageForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          component={TextArea}\n          name={\"newMessageBody\"}\n          placeholder={\"Enter your message\"}\n          validate={[required, maxLength100]}\n        />\n      </div>\n      <div className={style.buttonSubmit}>\n        <button>Send</button>\n      </div>\n    </form>\n  );\n};\n\nexport const AddMessageFormRedux = reduxForm({\n  form: \"dialogAddMessageForm\",\n})(AddMessageForm);\n","import { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withAutRedirect } from \"../../hoc/ithAauthRedirect\";\n\nimport { sendMessageCreator } from \"../../redux/dialogs-reducer\";\n\nimport { Dialogs } from \"./Dialogs\";\n\nconst mapStateToProps = (state) => {\n  return {\n    dialogsPage: state.dialogsPage,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    sendMessage: (newMessageBody) => {\n      dispatch(sendMessageCreator(newMessageBody));\n    },\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAutRedirect\n)(Dialogs);\n","import React from \"react\";\n\nimport { DialogItem } from \"./DialogItem/DialogItem\";\nimport { Message } from \"./Message/Message\";\n\nimport style from \"./Dialogs.module.css\";\nimport { Redirect } from \"react-router-dom\";\nimport { AddMessageFormRedux } from \"./AddMessageFormRedux\";\n\nexport const Dialogs = (props) => {\n  let state = props.dialogsPage;\n  let dialogsElement = state.dialogsData.map((dialog) => (\n    <DialogItem\n      name={dialog.name}\n      id={dialog.id}\n      key={dialog.id}\n      avatar={dialog.avatar}\n    />\n  ));\n\n  let messageElement = state.messages.map((mes) => (\n    <Message message={mes.message} key={mes.id} />\n  ));\n\n  let addNewMessage = (values) => {\n    props.sendMessage(values.newMessageBody);\n  };\n\n  if (!props.isAuth) return <Redirect to=\"/login\" />;\n  return (\n    <div className={style.dialogs}>\n      <div>{dialogsElement}</div>\n      <div className={style.messages}>\n        <div className={style.dialogsItem}>{messageElement}</div>\n        <div className={style.addMessage}>\n          <AddMessageFormRedux onSubmit={addNewMessage} />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  headers: {\n    \"API-KEY\": \"96ca4cf3-0904-4ed0-a6af-c3b3e2a96544\",\n  },\n});\n\nexport const UsersAPI = {\n  getUsers(currentPage, pageSize) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then((response) => {\n        return response.data;\n      });\n  },\n  setFollow(userId) {\n    return instance.post(`follow/${userId}`);\n  },\n  setUnfollow(userId) {\n    return instance.delete(`follow/${userId}`);\n  },\n};\n\nexport const AuthAPI = {\n  me() {\n    return instance.get(`auth/me`);\n  },\n  login(email, password, rememberMe = false) {\n    return instance.post(`auth/login`, { email, password, rememberMe });\n  },\n  logout() {\n    return instance.delete(`auth/login`);\n  },\n};\n\nexport const ProfileAPI = {\n  getProfile(userId) {\n    return instance.get(`/profile/${userId}`);\n  },\n  getStatus(userId) {\n    return instance.get(`/profile/status/${userId}`);\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, { status: status });\n  },\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append(\"image\", photoFile);\n    return instance.put(`profile/photo`, formData);\n  },\n  saveProfile(profile) {\n    return instance.put(`profile/`, profile);\n  },\n};\n\nexport const SecurityAPI = {\n  getCaptchaUrl() {\n    return instance.get(`security/get-captcha-url`);\n  },\n};\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map((us) => {\r\n    if (us[objPropName] === itemId) {\r\n      return { ...us, ...newObjProps };\r\n    }\r\n    return us;\r\n  });\r\n};\r\n","import { UsersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/objects-helpers\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET-USERS\";\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET-TOTAL-USERS-COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\";\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE-IS-FOLLOWING-PROGRESS\";\n\nconst initialState = {\n  users: [],\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: true,\n  folowingInProgress: [],\n};\n\nexport const usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: true,\n        }),\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: false,\n        }),\n      };\n    case SET_USERS:\n      return { ...state, users: action.users };\n    case SET_CURRENT_PAGE:\n      return { ...state, currentPage: action.currentPage };\n    case SET_TOTAL_USERS_COUNT:\n      return { ...state, totalUsersCount: action.totalUsersCount };\n    case TOGGLE_IS_FETCHING:\n      return { ...state, isFetching: action.isFetching };\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state,\n        folowingInProgress: action.isFetching\n          ? [...state.folowingInProgress, action.userId]\n          : state.folowingInProgress.filter((id) => id !== action.userId),\n      };\n    default:\n      return state;\n  }\n};\n\nexport const followSucces = (userId) => ({ type: FOLLOW, userId });\n\nexport const unfollowSucces = (userId) => ({ type: UNFOLLOW, userId });\n\nexport const setUsers = (users) => ({ type: SET_USERS, users });\n\nexport const setCurrentPage = (currentPage) => ({\n  type: SET_CURRENT_PAGE,\n  currentPage,\n});\n\nexport const setTotalUsersCount = (totalUsersCount) => ({\n  type: SET_TOTAL_USERS_COUNT,\n  totalUsersCount,\n});\n\nexport const toggleIsFetching = (isFetching) => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching,\n});\n\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\n  isFetching,\n  userId,\n});\n\nexport const getUsers = (currentPage, pageSize) => {\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(currentPage));\n    const data = await UsersAPI.getUsers(currentPage, pageSize);\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n  };\n};\n\nconst followUnfollowFlow = async (\n  dispatch,\n  userId,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(toggleFollowingProgress(true, userId));\n\n  const response = await apiMethod(userId);\n  if (response.data.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleFollowingProgress(false, userId));\n};\n\nexport const follow = (userId) => {\n  return async (dispatch) => {\n    followUnfollowFlow(\n      dispatch,\n      userId,\n      UsersAPI.setFollow.bind(UsersAPI),\n      followSucces\n    );\n  };\n};\n\nexport const unfollow = (userId) => {\n  return async (dispatch) => {\n    followUnfollowFlow(\n      dispatch,\n      userId,\n      UsersAPI.setUnfollow.bind(UsersAPI),\n      unfollowSucces\n    );\n  };\n};\n","import { createSelector } from \"reselect\";\r\n\r\nconst getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getAllUsers = createSelector(getUsers, (users) => {\r\n  return users.filter((us) => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFolowingInProgress = (state) => {\r\n  return state.usersPage.folowingInProgress;\r\n};\r\n","import React, { useState } from \"react\";\nimport cn from \"classnames\";\n\nimport { Button } from \"antd\";\n\nimport style from \"./Paginator.module.css\";\n\nexport const Paginator = ({\n  currentPage,\n  totalItemCount,\n  onPageChanged,\n  pageSize,\n  portionSize = 20,\n}) => {\n  let pagesCount = Math.ceil(totalItemCount / pageSize);\n\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  const [portionNumber, setPortionNumber] = useState(1);\n  const portionCount = Math.ceil(pagesCount / pageSize);\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  const rightPortionPageNumber = portionNumber * portionSize;\n\n  return (\n    <div className={style.paginator}>\n      {portionNumber > 1 && (\n        <Button\n          className={style.buttonPaginator}\n          onClick={() => {\n            setPortionNumber(portionNumber - 1);\n          }}\n        >\n          PREV\n        </Button>\n      )}\n      {pages\n        .filter(\n          (page) =>\n            page >= leftPortionPageNumber && page <= rightPortionPageNumber\n        )\n        .map((page) => {\n          return (\n            <span\n              key={page}\n              className={cn(style.pageNumber, {\n                [style.selectedPage]: currentPage === page,\n              })}\n              onClick={(e) => {\n                onPageChanged(page);\n              }}\n            >\n              {page}\n            </span>\n          );\n        })}\n      {portionCount > portionNumber && (\n        <Button\n          className={style.buttonPaginator}\n          onClick={() => {\n            setPortionNumber(portionNumber + 1);\n          }}\n        >\n          NEXT\n        </Button>\n      )}\n    </div>\n  );\n};\n","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport userPhoto from \"../../image/photoUser.png\";\n\nimport style from \"./Users.module.css\";\n\nexport const User = ({ user, followingInProgress, unfollow, follow }) => {\n  return (\n    <div className={style.user}>\n      <span>\n        <div>\n          <NavLink to={`/profile/${user.id}`}>\n            <img\n              src={user.photos.small != null ? user.photos.small : userPhoto}\n              alt=\"avatar\"\n              className={style.img}\n            />\n          </NavLink>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              disabled={followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                unfollow(user.id);\n              }}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              disabled={followingInProgress.some((id) => id === user.id)}\n              onClick={() => {\n                follow(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n      <span>\n        <span>\n          <div className={style.userName}>{user.name}</div>\n          <div>{user.status}</div>\n        </span>\n      </span>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { Paginator } from \"../Commons/Paginator/Paginator\";\nimport { User } from \"./User\";\n\nimport style from \"./Users.module.css\";\n\nexport const Users = ({\n  currentPage,\n  totalUsersCount,\n  pageSize,\n  onPageChanged,\n  users,\n  ...props\n}) => {\n  return (\n    <div className={style.users}>\n      <Paginator\n        currentPage={currentPage}\n        totalItemCount={totalUsersCount}\n        onPageChanged={onPageChanged}\n        pageSize={pageSize}\n      />\n      {users.map((us) => (\n        <User\n          key={us.id}\n          user={us}\n          followingInProgress={props.followingInProgress}\n          unfollow={props.unfollow}\n          follow={props.follow}\n        />\n      ))}\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/loading.c1b8565f.gif\";","import React from \"react\";\n\nimport preloader from \"../../image/loading.gif\";\n\nconst Preloader = (props) => {\n  return (\n    <div>\n      <img src={preloader} alt=\"\" />\n    </div>\n  );\n};\n\nexport default Preloader;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\n\nimport {\n  follow,\n  unfollow,\n  setCurrentPage,\n  toggleFollowingProgress,\n  getUsers,\n} from \"../../redux/users-reduser\";\nimport {\n  getAllUsers,\n  getCurrentPage,\n  getFolowingInProgress,\n  getIsFetching,\n  getPageSize,\n  getTotalUsersCount,\n} from \"../../redux/users-selectors\";\n\nimport { Users } from \"./Users\";\nimport Preloader from \"../Commons/Preloader\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    const { currentPage, pageSize } = this.props;\n    this.props.getUsers(currentPage, pageSize);\n  }\n\n  onPageChanged = (pageNumber) => {\n    const { pageSize } = this.props;\n    this.props.getUsers(pageNumber, pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Preloader /> : null}\n\n        <Users\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          users={this.props.users}\n          follow={this.props.follow}\n          unfollow={this.props.unfollow}\n          onPageChanged={this.onPageChanged}\n          followingInProgress={this.props.folowingInProgress}\n          currentPage={this.props.currentPage}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    users: getAllUsers(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    isFetching: getIsFetching(state),\n    folowingInProgress: getFolowingInProgress(state),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    toggleFollowingProgress,\n    getUsers,\n  })\n)(UsersContainer);\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\n\nimport style from \"./ProfileStatus.module.css\";\n\nexport const ProfileStatus = (props) => {\n  const [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  };\n\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  };\n  return (\n    <div className={style.status}>\n      {!editMode && (\n        <div>\n          <span onClick={activateEditMode}>\n            {props.status || \"Изменить статус\"}\n          </span>\n        </div>\n      )}\n\n      {editMode && (\n        <div>\n          <input\n            onChange={onStatusChange}\n            onBlur={deactivateEditMode}\n            autoFocus={true}\n            value={status}\n          ></input>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { reduxForm } from \"redux-form\";\nimport {\n  createField,\n  Input,\n  TextArea,\n} from \"../../Commons/FormsControl/FormsControl\";\n\n// import style from \"../Commons/FormsControl/FormsControl.module.css\";\nimport style from \"../../Commons/FormsControl/FormsControl.module.css\";\n\nexport const ProfileDataForm = ({ handleSubmit, profile, error }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      {error && <div className={style.formSummaryError}>{error}</div>}\n      <div>Full name: {createField(\"Full name\", \"fullName\", Input)}</div>\n      <div>\n        Looking for a job:{\" \"}\n        {createField(null, \"lookingForAJob\", Input, [], { type: \"checkbox\" })}\n      </div>\n      <div>\n        My professional skils:{\" \"}\n        {createField(\n          \"My professional skils\",\n          \"lookingForAJobDescription\",\n          TextArea\n        )}\n      </div>\n      <div>About me: {createField(\"About me\", \"aboutMe\", TextArea)}</div>\n      <div>\n        Contacts:{\" \"}\n        {Object.keys(profile.contacts).map((key) => {\n          return (\n            <div key={key}>\n              {key}:{createField(key, `contacts.${key}`, Input)}{\" \"}\n            </div>\n            // <Contact contactTitle={key} contactValue={profile.contacts[key]} />\n          );\n        })}\n      </div>\n\n      <div>\n        <button>save</button>\n      </div>\n    </form>\n  );\n};\n\nexport const ProfileDataFormReduxForm = reduxForm({\n  form: \"editProfile\",\n})(ProfileDataForm);\n","import React, { useState } from \"react\";\n\nimport { ProfileStatus } from \"../ProfileStatus/ProfileStatus\";\n// import { ProfileDataForm, ProfileDataFormReduxForm } from \"./ProfileDataForm\";\n\nimport userPhoto from \"../../../image/photoUser.png\";\nimport { ProfileDataFormReduxForm } from \"./ProfileDataForm\";\n// import ProfileDataForm from \"./ProfileDataForm\";\n// import ProfileDataFormReduxForm from \"./ProfileDataForm\";\n\n// import style from \"./ProfileStatus.module.css\";\nimport style from \"./ProfileInfo.module.css\";\nexport const ProfileInfo = ({\n  profile,\n  status,\n  updateStatus,\n  isOwner,\n  savePhoto,\n  saveProfile,\n}) => {\n  const [editMode, setEditMode] = useState(false);\n\n  const onMainPhotoSelected = (e) => {\n    if (e.target.files.length) {\n      savePhoto(e.target.files[0]);\n    }\n  };\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const onSubmit = (formData) => {\n    saveProfile(formData).then(() => {\n      setEditMode(false);\n    });\n  };\n\n  if (!profile) {\n    return <div>Загрузка</div>;\n  }\n\n  return (\n    <div>\n      <div className={style.inform}>\n        <div className={style.infoPhoto}>\n          <img src={profile.photos.large || userPhoto} />\n          {isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} />}\n        </div>\n        {editMode ? (\n          <ProfileDataFormReduxForm\n            initialValues={profile}\n            profile={profile}\n            onSubmit={onSubmit}\n          />\n        ) : (\n          <ProfileData\n            activateEditMode={activateEditMode}\n            profile={profile}\n            isOwner={isOwner}\n          />\n        )}\n      </div>\n      <ProfileStatus status={status} updateStatus={updateStatus} />\n    </div>\n  );\n};\n\nconst ProfileData = ({ profile, isOwner, activateEditMode }) => {\n  return (\n    <div className={style.infoText}>\n      <div>Full name: {profile.fullName}</div>\n\n      <div>Looking for a job: {profile.lookingForAJob ? \"yes\" : \"no\"}</div>\n      {profile.lookingForAJob && (\n        <div>My professional skils: {profile.lookingForAJobDescription}</div>\n      )}\n      <div>About me: {profile.aboutMe}</div>\n      <div>\n        Contacts:{\" \"}\n        {Object.keys(profile.contacts).map((key) => {\n          return (\n            <Contact contactTitle={key} contactValue={profile.contacts[key]} />\n          );\n        })}\n      </div>\n      {isOwner && (\n        <div>\n          <button onClick={activateEditMode}>edit</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst Contact = ({ contactTitle, contactValue }) => {\n  return (\n    <div>\n      {contactTitle}: {contactValue}\n    </div>\n  );\n};\n","import { stopSubmit } from \"redux-form\";\nimport { ProfileAPI } from \"../api/api\";\n\nconst ADD_POST = \"profile/ADD-POST\";\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\nconst SET_STATUS = \"profile/SET_STATUS\";\nconst DELETE_POST = \"profile/DELETE_POST\";\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\n\nconst initialState = {\n  posts: [\n    { id: \"1\", message: \"hi\", likeCount: 11 },\n    { id: \"2\", message: \"first post\", likeCount: 15 },\n    { id: \"3\", message: \"first33333\", likeCount: 1 },\n  ],\n  profile: null,\n  status: \"\",\n};\n\nexport const profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        id: \"3\",\n        message: action.newPostText,\n        likeCount: 0,\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n        newPostText: \"\",\n      };\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile,\n      };\n    case SET_STATUS:\n      return {\n        ...state,\n        status: action.status,\n      };\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter((p) => p.id !== action.postId),\n      };\n    case SAVE_PHOTO_SUCCESS:\n      return {\n        ...state,\n        profile: { ...state.profile, photos: action.photos },\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (newPostText) => ({\n  type: ADD_POST,\n  newPostText,\n});\n\nexport const deletePost = (postId) => ({\n  type: DELETE_POST,\n  postId,\n});\n\nexport const setUserProfile = (profile) => ({\n  type: SET_USER_PROFILE,\n  profile,\n});\n\nexport const setStatus = (status) => ({\n  type: SET_STATUS,\n  status,\n});\n\nexport const savePhotoSuccess = (photos) => ({\n  type: SAVE_PHOTO_SUCCESS,\n  photos,\n});\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  const response = await ProfileAPI.getProfile(userId);\n  dispatch(setUserProfile(response.data));\n};\n\nexport const getStatus = (userId) => async (dispatch) => {\n  const response = await ProfileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n  const response = await ProfileAPI.updateStatus(status);\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\n\nexport const savePhoto = (file) => async (dispatch) => {\n  const response = await ProfileAPI.savePhoto(file);\n  if (response.data.resultCode === 0) {\n    dispatch(savePhotoSuccess(response.data.data.photos));\n  }\n};\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n  const userId = getState().auth.id;\n  const response = await ProfileAPI.saveProfile(profile);\n  if (response.data.resultCode === 0) {\n    dispatch(getUserProfile(userId));\n  } else {\n    dispatch(stopSubmit(\"editProfile\", { _error: response.data.messages[0] }));\n    return Promise.reject(response.data.messages[0]);\n  }\n};\n","import React from \"react\";\n\nimport style from \"./Post.module.css\";\n\nexport const Post = (props) => {\n  return (\n    <div className={style.item}>\n      <img\n        src=\"https://avatarko.ru/img/kartinka/33/ochki_anime_devushka_34671.jpg\"\n        alt=\"Аватар\"\n      />\n      <div>{props.message}</div>\n      <span> like {props.likeCount}</span>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { Post } from \"./Post\";\n\nimport style from \"./MyPosts.module.css\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { maxLengthCreator, required } from \"../../../utils/Validators\";\nimport { TextArea } from \"../../Commons/FormsControl/FormsControl\";\n\nconst maxLength10 = maxLengthCreator(10);\n\nexport const MyPosts = (props) => {\n  let postElement = props.posts.map((p) => (\n    <Post message={p.message} likeCount={p.likeCount} />\n  ));\n\n  let onAddPost = (values) => {\n    props.addPost(values.newPostText);\n  };\n  return (\n    <div>\n      <h3>My posts</h3>\n      <AddPostFormRedux onSubmit={onAddPost} />\n      <div className={style.posts}>{postElement}</div>\n    </div>\n  );\n};\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          component={TextArea}\n          name={\"newPostText\"}\n          validate={[required, maxLength10]}\n        />\n      </div>\n      <div>\n        <button>Send</button>\n      </div>\n    </form>\n  );\n};\n\nconst AddPostFormRedux = reduxForm({\n  form: \"addPostForm\",\n})(AddNewPostForm);\n","import { connect } from \"react-redux\";\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\n\nimport { MyPosts } from \"./MyPosts\";\n\nconst mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    },\n  };\n};\n\nexport const MyPostsContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyPosts);\n","import React from \"react\";\n\nimport { ProfileInfo } from \"./ProfileInfo\";\n\nimport style from \"./Profile.module.css\";\nimport { MyPostsContainer } from \"./MyPosts/MyPostsContainer\";\n\nexport const Profile = (props) => {\n  return (\n    <div className={style.content}>\n      <ProfileInfo\n        isOwner={props.isOwner}\n        profile={props.profile}\n        status={props.status}\n        updateStatus={props.updateStatus}\n        savePhoto={props.savePhoto}\n        saveProfile={props.saveProfile}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { Profile } from \"./Profile\";\nimport {\n  getUserProfile,\n  getStatus,\n  updateStatus,\n  savePhoto,\n  saveProfile,\n} from \"../../redux/profile-reducer\";\nimport { withAutRedirect } from \"../../hoc/ithAauthRedirect\";\nimport { compose } from \"redux\";\n\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    this.refreshProfile();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.userId1 !== prevProps.match.params.userId) {\n      this.refreshProfile();\n    }\n  }\n\n  refreshProfile() {\n    let userId = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.autorizedUserId;\n      if (!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n  }\n\n  render() {\n    return (\n      <Profile\n        {...this.props}\n        isOwner={!this.props.match.params.userId}\n        profile={this.props.profile}\n        status={this.props.status}\n        updateStatus={this.props.updateStatus}\n        savePhoto={this.props.savePhoto}\n        saveProfile={this.props.saveProfile}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    autorizedUserId: state.auth.id,\n    isAust: state.auth.isAust,\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    getUserProfile,\n    getStatus,\n    updateStatus,\n    savePhoto,\n    saveProfile,\n  }),\n  withRouter,\n  withAutRedirect\n)(ProfileContainer);\n","import React from \"react\";\n\nimport \"./clock.css\";\n\nexport class Clock extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      date: new Date(),\n    };\n  }\n\n  updateTime() {\n    this.setState({ date: new Date() });\n  }\n\n  componentDidMount() {\n    this.idTimer = setInterval(() => this.updateTime(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.idTimer);\n  }\n\n  render() {\n    return (\n      <div className=\"clock\">\n        <span>Время: </span>\n        {this.state.date.toLocaleTimeString()}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Button } from \"antd\";\n\nimport { Clock } from \"../Clock\";\n\nimport style from \"./Header.module.css\";\n\nexport const Header = (props) => {\n  return (\n    <div className={style.header}>\n      <div className={style.titleBlock}>\n        <img\n          src=\"https://w7.pngwing.com/pngs/795/595/png-transparent-cat-paw-dog-paw-background-pet-paw-black.png\"\n          alt=\"logo\"\n        />\n        <div className={style.title}>Social network</div>\n        <Clock />\n      </div>\n\n      <div className={style.loginBlock}>\n        {props.isAuth ? (\n          <div className={style.loginBlockAuth}>\n            <NavLink to={\"/profile\"}>\n              <div className={style.login}>{props.login}</div>\n            </NavLink>\n            <Button\n              type=\"primary\"\n              onClick={props.logout}\n              className={style.button}\n            >\n              Log out\n            </Button>\n          </div>\n        ) : (\n          <NavLink to={\"/login\"}>\n            <Button type=\"primary\" className={style.button}>\n              LOGIN\n            </Button>\n          </NavLink>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { stopSubmit } from \"redux-form\";\nimport { AuthAPI, SecurityAPI } from \"../api/api\";\n\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\nconst SET_CAPTCHA_URL_SUCCESS = \"auth/SET_CAPTCHA_URL_SUCCESS\";\n\nconst initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captchaUrl: null,\n};\n\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n    case SET_CAPTCHA_URL_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setAuthUserData = (id, email, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: { id, email, login, isAuth },\n});\n\nexport const setCaptchaUrlSuccess = (captchaUrl) => ({\n  type: SET_CAPTCHA_URL_SUCCESS,\n  payload: { captchaUrl },\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n  const response = await AuthAPI.me();\n  if (response.data.resultCode === 0) {\n    let { id, email, login } = response.data.data;\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n};\n\nexport const login =\n  (email, password, rememberMe = false, captcha = null) =>\n  async (dispatch) => {\n    const response = await AuthAPI.login(email, password, rememberMe, captcha);\n    if (response.data.resultCode === 0) {\n      dispatch(getAuthUserData());\n    } else {\n      if (response.data.resultCode === 10) {\n        dispatch(getCaptchaUrl());\n      }\n      let message =\n        response.data.messages.lenght > 0\n          ? response.data.messages[0]\n          : \"some error\";\n      dispatch(stopSubmit(\"login\", { error: message }));\n    }\n  };\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n  const response = await SecurityAPI.getCaptchaUrl();\n  const captchaUrl = response.data.url;\n  dispatch(setCaptchaUrlSuccess(captchaUrl));\n};\n\nexport const logout = () => async (dispatch) => {\n  const response = await AuthAPI.logout();\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n","import React from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { Header } from \"./Header\";\nimport { logout } from \"../../redux/auth-reduser\";\n\nclass HeaderConteiner extends React.Component {\n  render() {\n    return <Header {...this.props} />;\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n  };\n};\nexport default connect(mapStateToProps, { logout })(HeaderConteiner);\n","import React from \"react\";\n\nimport { reduxForm } from \"redux-form\";\nimport { createField, Input } from \"../../Commons/FormsControl/FormsControl\";\nimport { required } from \"../../../utils/Validators\";\n\nimport style from \"../../Commons/FormsControl/FormsControl.module.css\";\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      {createField(\"Email\", \"email\", Input, [required])}\n      {createField(\"Password\", \"password\", Input, [required], {\n        type: \"password\",\n      })}\n      {createField(\n        null,\n        \"rememberMe\",\n        Input,\n        [],\n        { type: \"checkbox\" },\n        \"rememberMe\"\n      )}\n\n      {captchaUrl && <img src={captchaUrl} />}\n      {captchaUrl &&\n        createField(\"Symbol from image\", \"captcha\", Input, [required])}\n      {error && <div className={style.formSummaryError}>{error}</div>}\n      <div className={style.buttonSubmit}>\n        <button>Отправить</button>\n      </div>\n    </form>\n  );\n};\n\nexport const LoginReduxForm = reduxForm({\n  form: \"login\",\n})(LoginForm);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { LoginReduxForm } from \"./Login-form/LoginForm\";\n\nimport { login, logout } from \"../../redux/auth-reduser\";\n\nimport style from \"./Login.module.css\";\n\nconst Login = (props) => {\n  const onSubmit = (formData) => {\n    props.login(\n      formData.email,\n      formData.password,\n      formData.rememberMe,\n      formData.captcha\n    );\n  };\n  if (props.isAuth) {\n    return <Redirect to=\"/profile\" />;\n  }\n  return (\n    <div className={style.login}>\n      <span className={style.loginTitle}>Login</span>\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\n    </div>\n  );\n};\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  captchaUrl: state.auth.captchaUrl,\n});\nexport default connect(mapStateToProps, { login, logout })(Login);\n","import { getAuthUserData } from \"./auth-reduser\";\n\nconst INITIALISED_SUCCESS = \"app/INITIALISED_SUCCESS\";\n\nconst initialState = {\n  initialised: false,\n};\n\nexport const appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALISED_SUCCESS:\n      return {\n        ...state,\n        initialised: true,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const initialisedSuccess = () => ({\n  type: INITIALISED_SUCCESS,\n});\n\nexport const initialisedApp = () => (dispatch) => {\n  let promise = dispatch(getAuthUserData());\n  promise.then(() => dispatch(initialisedSuccess()));\n};\n","import React from \"react\";\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\n\nimport { Sidebar } from \"../Sidebar/Sidebar\";\nimport DialogsContainer from \"../Dialogs/DialogsContainer\";\nimport UsersContainer from \"../Users/UsersContainer\";\nimport ProfileContainer from \"../Profile/ProfileContainer\";\nimport HeaderConteiner from \"../Header/HeaderContainer\";\nimport Preloader from \"../Commons/Preloader\";\nimport Login from \"../Login/Login\";\nimport { initialisedApp } from \"../../redux/app-reduser\";\n\nimport \"./App.css\";\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initialisedApp();\n  }\n  render() {\n    if (!this.props.initialised) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderConteiner />\n\n        <Sidebar />\n        <div className=\"app-wrapper-content\">\n          <Switch>\n            <Route exact path=\"/\" render={() => <ProfileContainer />} />\n            <Route path=\"/login\" render={() => <Login />} />\n            <Route\n              path=\"/profile/:userId?\"\n              render={() => <ProfileContainer />}\n            />\n            {/* <Route path=\"/dialogs\" render={() => <DialogsContainer />} /> */}\n            <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n            <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  initialised: state.app.initialised,\n});\nexport default compose(\n  connect(mapStateToProps, { initialisedApp }),\n  withRouter\n)(App);\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\n\nimport { dialogsReducer } from \"./dialogs-reducer\";\nimport { profileReducer } from \"./profile-reducer\";\nimport { usersReducer } from \"./users-reduser\";\nimport { authReducer } from \"./auth-reduser\";\nimport { appReducer } from \"./app-reduser\";\n\nconst redusers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(\n  redusers,\n  composeEnhancers(applyMiddleware(thunk))\n);\n","import React from \"react\";\n\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./components/App/App\";\n\nimport { store } from \"./redux/redux-store\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2DV0t\",\"message\":\"Dialogs_message__3qjNR\",\"dialog\":\"Dialogs_dialog__2iaDf\",\"dialogName\":\"Dialogs_dialogName__yUO3q\",\"addMessage\":\"Dialogs_addMessage__nwt9c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3c-_n\",\"titleBlock\":\"Header_titleBlock__1ILSZ\",\"loginBlockAuth\":\"Header_loginBlockAuth__3Msmm\",\"title\":\"Header_title__rryms\",\"login\":\"Header_login__3ZIXf\",\"button\":\"Header_button__335gp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3FifD\",\"user\":\"Users_user__3iANE\",\"img\":\"Users_img__2HdJT\",\"userName\":\"Users_userName__1gImA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2XHS1\",\"buttonPaginator\":\"Paginator_buttonPaginator__3mRuC\",\"pageNumber\":\"Paginator_pageNumber__3S3hc\",\"selectedPage\":\"Paginator_selectedPage__3DCY4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__m0R8A\",\"inform\":\"ProfileInfo_inform__3KbhU\",\"infoPhoto\":\"ProfileInfo_infoPhoto__1Aedf\",\"infoText\":\"ProfileInfo_infoText__1eN_r\"};"],"sourceRoot":""}