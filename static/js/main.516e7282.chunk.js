(this["webpackJsonpit-react-1"]=this["webpackJsonpit-react-1"]||[]).push([[0],{127:function(e,t,n){e.exports={content:"Profile_content__vW-kt"}},128:function(e,t,n){e.exports={item:"Post_item__u5CI4"}},129:function(e,t,n){e.exports={posts:"MyPosts_posts__w6UnJ"}},22:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__2CZlU",nav:"Sidebar_nav__118dd",activeLink:"Sidebar_activeLink__3AOy7"}},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(64),c=n.n(a),i=n(13),o=n(11),u=n(25),l=n(26),d=n(28),j=n(27),p=n(12),f=n(9),b=n(22),h=n.n(b),g=n(0),O=function(){return Object(g.jsxs)("nav",{className:h.a.nav,children:[Object(g.jsx)("div",{className:h.a.item,children:Object(g.jsx)(i.b,{to:"/profile",activeClassName:h.a.activeLink,children:"Profile"})}),Object(g.jsx)("div",{className:h.a.item,children:Object(g.jsx)(i.b,{to:"/dialogs",activeClassName:h.a.activeLink,children:"Messages"})}),Object(g.jsx)("div",{className:h.a.item,children:Object(g.jsx)(i.b,{to:"/news",children:"News"})}),Object(g.jsx)("div",{className:h.a.item,children:Object(g.jsx)(i.b,{to:"/music",children:"Music"})}),Object(g.jsx)("div",{className:h.a.item,children:Object(g.jsx)(i.b,{to:"/settings",children:"Settings"})}),Object(g.jsx)("div",{className:h.a.item,children:Object(g.jsx)(i.b,{to:"/users",activeClassName:h.a.activeLink,children:"Users"})})]})},m=n(3),v=function(e){return{isAuth:e.auth.isAuth}},x=function(e){var t=function(t){Object(d.a)(r,t);var n=Object(j.a)(r);function r(){return Object(u.a)(this,r),n.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(g.jsx)(e,Object(m.a)({},this.props)):Object(g.jsx)(p.a,{to:"/login"})}}]),r}(s.a.Component);return Object(o.b)(v)(t)},P=n(43),C="SEND-MESAGE",S={dialogsData:[{id:"1",name:"Aleksey",avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsZwjA0i1NnKN2XckBnoxA0wm2Y-9JxuyKVg&usqp=CAU"},{id:"2",name:"Ivan",avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsZwjA0i1NnKN2XckBnoxA0wm2Y-9JxuyKVg&usqp=CAU"},{id:"3",name:"Elisey",avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsZwjA0i1NnKN2XckBnoxA0wm2Y-9JxuyKVg&usqp=CAU"}],messages:[{id:"1",message:"hi"},{id:"2",message:"hello"},{id:"3",message:"yo"}]},w=n(33),q=n.n(w),A=function(e){var t="/dialogs/".concat(e.id);return Object(g.jsx)("div",{className:q.a.dialog,children:Object(g.jsxs)(i.b,{to:t,children:[e.name,Object(g.jsx)("img",{src:e.avatar,alt:""})]})})},N=function(e){return Object(g.jsx)("div",{className:q.a.dialog,children:e.message})},U=n(121),k=n(122),y=n(44),T=n(52),K=n.n(T),F=["input","meta"],E=["input","meta"],V=["input","meta"],I=function(e){e.input;var t=e.meta,n=Object(y.a)(e,F),r=t.touched&&t.error;return Object(g.jsxs)("div",{className:K.a.formControl+" "+(r?K.a.error:""),children:[Object(g.jsx)("div",{children:n.children}),r&&Object(g.jsx)("span",{children:t.error})]})},X=function(e){var t=e.input,n=(e.meta,Object(y.a)(e,E));return Object(g.jsx)(I,Object(m.a)(Object(m.a)({},e),{},{children:Object(g.jsx)("textarea",Object(m.a)(Object(m.a)({},t),n))}))},Q=function(e){var t=e.input,n=(e.meta,Object(y.a)(e,V));return Object(g.jsx)(I,Object(m.a)(Object(m.a)({},e),{},{children:Object(g.jsx)("input",Object(m.a)(Object(m.a)({},t),n))}))},D=function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(g.jsxs)("div",{children:[Object(g.jsx)(U.a,Object(m.a)({placeholder:e,name:t,component:n,validate:r},s)),a]})},L=function(e){if(!e)return"Fild is required "},M=function(e){return function(t){if(t&&t.length>e)return"max length is 30 symbols"}},z=M(100),G=Object(k.a)({form:"dialogAddMessageForm"})((function(e){return Object(g.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(g.jsx)("div",{children:Object(g.jsx)(U.a,{component:X,name:"newMessageBody",placeholder:"Enter your message",validate:[L,z]})}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{children:"Send"})})]})})),J=Object(f.d)(Object(o.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:C,newMessageBody:e}}(t))}}})),x)((function(e){var t=e.dialogsPage,n=t.dialogsData.map((function(e){return Object(g.jsx)(A,{name:e.name,id:e.id,avatar:e.avatar},e.id)})),r=t.messages.map((function(e){return Object(g.jsx)(N,{message:e.message},e.id)}));return e.isAuth?Object(g.jsxs)("div",{className:q.a.dialogs,children:[Object(g.jsx)("div",{className:q.a.dialogsItem,children:n}),Object(g.jsxs)("div",{className:q.a.messages,children:[Object(g.jsx)("div",{children:r}),Object(g.jsx)(G,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})]}):Object(g.jsx)(p.a,{to:"/login"})})),Z=n(10),H=n.n(Z),B=n(18),R=n(125),W=n.n(R).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"96ca4cf3-0904-4ed0-a6af-c3b3e2a96544"}}),Y={getUsers:function(e,t){return W.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},setFollow:function(e){return W.post("follow/".concat(e))},setUnfollow:function(e){return W.delete("follow/".concat(e))}},_=function(){return W.get("auth/me")},$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return W.post("auth/login",{email:e,password:t,rememberMe:n})},ee=function(){return W.delete("auth/login")},te=function(e){return W.get("/profile/".concat(e))},ne=function(e){return W.get("/profile/status/".concat(e))},re=function(e){return W.put("profile/status",{status:e})},se=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(m.a)(Object(m.a)({},e),r):e}))},ae="FOLLOW",ce="UNFOLLOW",ie="SET-USERS",oe="SET-CURRENT-PAGE",ue="SET-TOTAL-USERS-COUNT",le="TOGGLE-IS-FETCHING",de="TOGGLE-IS-FOLLOWING-PROGRESS",je={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,folowingInProgress:[]},pe=function(e){return{type:ae,userId:e}},fe=function(e){return{type:ce,userId:e}},be=function(e){return{type:oe,currentPage:e}},he=function(e){return{type:le,isFetching:e}},ge=function(e,t){return{type:de,isFetching:e,userId:t}},Oe=function(){var e=Object(B.a)(H.a.mark((function e(t,n,r,s){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ge(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(s(n)),t(ge(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),me=n(126),ve=Object(me.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),xe=function(e){return e.usersPage.pageSize},Pe=function(e){return e.usersPage.totalUsersCount},Ce=function(e){return e.usersPage.currentPage},Se=function(e){return e.usersPage.isFetching},we=function(e){return e.usersPage.folowingInProgress},qe=n(55),Ae=n(90),Ne=n.n(Ae),Ue=function(e){for(var t=e.currentPage,n=e.totalItemCount,s=e.onPageChanged,a=e.pageSize,c=e.portionSize,i=void 0===c?10:c,o=Math.ceil(n/a),u=[],l=1;l<=o;l++)u.push(l);var d=Object(r.useState)(1),j=Object(qe.a)(d,2),p=j[0],f=j[1],b=Math.ceil(o/a),h=(p-1)*i+1,O=p*i;return Object(g.jsxs)("div",{className:Ne.a.paginator,children:[p>1&&Object(g.jsx)("button",{onClick:function(){f(p-1)},children:"PREV"}),u.filter((function(e){return e>=h&&e<=O})).map((function(e){return Object(g.jsx)("span",{className:t===e&&Ne.a.selectedPage,onClick:function(t){s(e)},children:e},e)})),b>p&&Object(g.jsx)("button",{onClick:function(){f(p+1)},children:"NEXT"})]})},ke="data:image/png;base64,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",ye=n(85),Te=n.n(ye),Ke=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,s=e.follow;return Object(g.jsxs)("div",{children:[Object(g.jsxs)("span",{children:[Object(g.jsx)("div",{children:Object(g.jsx)(i.b,{to:"/profile/".concat(t.id),children:Object(g.jsx)("img",{src:null!=t.photos.small?t.photos.small:ke,alt:"avatar",className:Te.a.img})})}),Object(g.jsx)("div",{children:t.followed?Object(g.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(g.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"Follow"})})]}),Object(g.jsxs)("span",{children:[Object(g.jsxs)("span",{children:[Object(g.jsx)("div",{children:t.name}),Object(g.jsx)("div",{children:t.status})]}),Object(g.jsxs)("span",{children:[Object(g.jsx)("div",{children:"user.location.countr"}),Object(g.jsx)("div",{children:"user.location.city"})]})]})]})},Fe=["currentPage","totalUsersCount","pageSize","onPageChanged","users"],Ee=function(e){var t=e.currentPage,n=e.totalUsersCount,r=e.pageSize,s=e.onPageChanged,a=e.users,c=Object(y.a)(e,Fe);return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ue,{currentPage:t,totalItemCount:n,onPageChanged:s,pageSize:r}),a.map((function(e){return Object(g.jsx)(Ke,{user:e,followingInProgress:c.followingInProgress,unfollow:c.unfollow,follow:c.follow},e.id)}))]})},Ve=n.p+"static/media/loading.c1b8565f.gif",Ie=function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:Ve,alt:""})})},Xe=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[this.props.isFetching?Object(g.jsx)(Ie,{}):null,Object(g.jsx)(Ee,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,onPageChanged:this.onPageChanged,followingInProgress:this.props.folowingInProgress,currentPage:this.props.currentPage})]})}}]),n}(s.a.Component),Qe=Object(f.d)(Object(o.b)((function(e){return{users:ve(e),pageSize:xe(e),totalUsersCount:Pe(e),currentPage:Ce(e),isFetching:Se(e),folowingInProgress:we(e)}}),{follow:function(e){return function(){var t=Object(B.a)(H.a.mark((function t(n){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Oe(n,e,Y.setFollow.bind(Y),pe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(B.a)(H.a.mark((function t(n){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Oe(n,e,Y.setUnfollow.bind(Y),fe);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:be,toggleFollowingProgress:ge,getUsers:function(e,t){return function(){var n=Object(B.a)(H.a.mark((function n(r){var s;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(he(!0)),r(be(e)),n.next=4,Y.getUsers(e,t);case 4:s=n.sent,r(he(!1)),r((c=s.items,{type:ie,users:c})),r((a=s.totalCount,{type:ue,totalUsersCount:a}));case 8:case"end":return n.stop()}var a,c}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Xe),De=function(e){var t=Object(r.useState)(!1),n=Object(qe.a)(t,2),s=n[0],a=n[1],c=Object(r.useState)(e.status),i=Object(qe.a)(c,2),o=i[0],u=i[1];Object(r.useEffect)((function(){u(e.status)}),[e.status]);return Object(g.jsxs)("div",{children:[!s&&Object(g.jsx)("div",{children:Object(g.jsx)("span",{onClick:function(){a(!0)},children:e.status||"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),s&&Object(g.jsx)("div",{children:Object(g.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatus(o)},autoFocus:!0,value:o})})]})},Le=function(e){var t=e.profile,n=e.status,r=e.updateStatus;return t?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:t.photos.large||ke})}),Object(g.jsx)(De,{status:n,updateStatus:r})]}):Object(g.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})},Me=n(127),ze=n.n(Me),Ge="profile/ADD-POST",Je="profile/SET_USER_PROFILE",Ze="profile/SET_STATUS",He="profile/DELETE_POST",Be={posts:[{id:"1",message:"hi",likeCount:11},{id:"2",message:"first post",likeCount:15},{id:"3",message:"first33333",likeCount:1}],profile:null,status:""},Re=function(e){return{type:Ze,status:e}},We=n(128),Ye=n.n(We),_e=function(e){return Object(g.jsxs)("div",{className:Ye.a.item,children:[Object(g.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6k_sfiQZVqjmPQFocuMaYfAxyHXixVWSsPQ&usqp=CAU",alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),Object(g.jsx)("div",{children:e.message}),Object(g.jsxs)("span",{children:[" like ",e.likeCount]})]})},$e=n(129),et=n.n($e),tt=M(10),nt=Object(k.a)({form:"addPostForm"})((function(e){return Object(g.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(g.jsx)("div",{children:Object(g.jsx)(U.a,{component:X,name:"newPostText",validate:[L,tt]})}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{children:"Send"})})]})})),rt=Object(o.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:Ge,newPostText:e}}(t))}}}))((function(e){var t=e.posts.map((function(e){return Object(g.jsx)(_e,{message:e.message,likeCount:e.likeCount})}));return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"My posts"}),Object(g.jsx)(nt,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(g.jsx)("div",{className:et.a.posts,children:t})]})})),st=function(e){return Object(g.jsxs)("div",{className:ze.a.content,children:[Object(g.jsx)(Le,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(g.jsx)(rt,{})]})},at=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId1==e.match.params.userId&&this.refreshProfile()}},{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(g.jsx)(st,Object(m.a)(Object(m.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(s.a.Component),ct=Object(f.d)(Object(o.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id,isAust:e.auth.isAust}}),{getUserProfile:function(e){return function(){var t=Object(B.a)(H.a.mark((function t(n){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(e);case 2:r=t.sent,n((s=r.data,{type:Je,profile:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(B.a)(H.a.mark((function t(n){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(e);case 2:r=t.sent,n(Re(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(B.a)(H.a.mark((function t(n){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:0===t.sent.data.resultCode&&n(Re(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),p.f,x)(at),it=n(91),ot=n.n(it),ut=function(e){return Object(g.jsxs)("div",{className:ot.a.header,children:[Object(g.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRxiwWCpFc4gAmdCBNs4jdn04D0FyVDS8NtmA&usqp=CAU",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(g.jsx)("div",{className:ot.a.loginBlock,children:e.isAuth?Object(g.jsxs)("div",{children:[e.login," - ",Object(g.jsx)("button",{onClick:e.logout,children:"log out"})]}):Object(g.jsx)(i.b,{to:"/login",children:"LOGIN"})})]})},lt=n(36),dt="auth/SET_USER_DATA",jt={id:null,email:null,login:null,isAuth:!1},pt=function(e,t,n,r){return{type:dt,payload:{id:e,email:t,login:n,isAuth:r}}},ft=function(){return function(){var e=Object(B.a)(H.a.mark((function e(t){var n,r,s,a,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,a=r.email,c=r.login,t(pt(s,a,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},bt=function(){return function(){var e=Object(B.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:0===e.sent.data.resultCode&&t(pt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ht=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsx)(ut,Object(m.a)({},this.props))}}]),n}(s.a.Component),gt=Object(o.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:bt})(ht),Ot="app/INITIALISED_SUCCESS",mt={initialised:!1},vt=Object(k.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(g.jsxs)("form",{onSubmit:t,children:[D("Email","email",Q,[L]),D("Password","password",Q,[L],{type:"password"}),D(null,"rememberMe",Q,[],{type:"checkbox"},"rememberMe"),n&&Object(g.jsx)("div",{className:K.a.formSummaryError,children:n}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),xt=Object(o.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(B.a)(H.a.mark((function r(s){var a,c;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,$(e,t,n);case 2:0===(a=r.sent).data.resultCode?s(ft()):(c=a.data.messages.lenght>0?a.data.messages[0]:"some error",s(Object(lt.a)("login",{error:c})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},logout:bt})((function(e){return e.isAuth?Object(g.jsx)(p.a,{to:"/profile"}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsx)(vt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),Pt=(n(283),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initialisedApp()}},{key:"render",value:function(){return this.props.initialised?Object(g.jsxs)("div",{className:"app-wrapper",children:[Object(g.jsx)(gt,{}),Object(g.jsx)(O,{}),Object(g.jsxs)("div",{className:"app-wrapper-content",children:[Object(g.jsx)(p.b,{path:"/login",render:function(){return Object(g.jsx)(xt,{})}}),Object(g.jsx)(p.b,{path:"/profile/:userId?",render:function(){return Object(g.jsx)(ct,{})}}),Object(g.jsx)(p.b,{path:"/dialogs",render:function(){return Object(g.jsx)(J,{})}}),Object(g.jsx)(p.b,{path:"/dialogs",render:function(){return Object(g.jsx)(J,{})}}),Object(g.jsx)(p.b,{path:"/users",render:function(){return Object(g.jsx)(Qe,{})}})]})]}):Object(g.jsx)(Ie,{})}}]),n}(s.a.Component)),Ct=Object(f.d)(Object(o.b)((function(e){return{initialised:e.app.initialised}}),{initialisedApp:function(){return function(e){e(ft()).then((function(){return e({type:Ot})}))}}}),p.f)(Pt),St=n(130),wt=n(123),qt=Object(f.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:var n={id:"3",message:t.newPostText,likeCount:0};return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(P.a)(e.posts),[n]),newPostText:""});case Je:return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});case Ze:return Object(m.a)(Object(m.a)({},e),{},{status:t.status});case He:return Object(m.a)(Object(m.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var n=t.newMessageBody;return Object(m.a)(Object(m.a)({},e),{},{messages:[].concat(Object(P.a)(e.messages),[{id:"4",message:n}])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(m.a)(Object(m.a)({},e),{},{users:se(e.users,t.userId,"id",{followed:!0})});case ce:return Object(m.a)(Object(m.a)({},e),{},{users:se(e.users,t.userId,"id",{followed:!1})});case ie:return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case oe:return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case ue:return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.totalUsersCount});case le:return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case de:return Object(m.a)(Object(m.a)({},e),{},{folowingInProgress:t.isFetching?[].concat(Object(P.a)(e.folowingInProgress),[t.userId]):e.folowingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:return Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},form:wt.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return Object(m.a)(Object(m.a)({},e),{},{initialised:!0});default:return e}}}),At=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,Nt=Object(f.e)(qt,At(Object(f.a)(St.a)));n(284);c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(i.a,{children:Object(g.jsx)(o.a,{store:Nt,children:Object(g.jsx)(Ct,{})})})}),document.getElementById("root"))},33:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2DV0t"}},52:function(e,t,n){e.exports={formControl:"FormsControl_formControl__3oxQ0",error:"FormsControl_error__297PR",formSummaryError:"FormsControl_formSummaryError__1Ob2n"}},85:function(e,t,n){e.exports={img:"Users_img__2HdJT"}},90:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__zd9aJ"}},91:function(e,t,n){e.exports={header:"Header_header__3c-_n",loginBlock:"Header_loginBlock__hDty7"}}},[[285,1,2]]]);
//# sourceMappingURL=main.516e7282.chunk.js.map